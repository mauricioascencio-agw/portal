-- MySQL dump 10.13  Distrib 8.0.44, for Linux (x86_64)
--
-- Host: localhost    Database: agentsat_portal
-- ------------------------------------------------------
-- Server version	8.0.44

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!50503 SET NAMES utf8mb4 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;

--
-- Table structure for table `actividades_economicas`
--

DROP TABLE IF EXISTS `actividades_economicas`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `actividades_economicas` (
  `id` int NOT NULL AUTO_INCREMENT,
  `constancia_id` int NOT NULL,
  `orden` int DEFAULT NULL,
  `actividad` text NOT NULL,
  `porcentaje` int DEFAULT NULL,
  `fecha_inicio` date DEFAULT NULL,
  `fecha_fin` date DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `constancia_id` (`constancia_id`),
  KEY `ix_actividades_economicas_id` (`id`),
  CONSTRAINT `actividades_economicas_ibfk_1` FOREIGN KEY (`constancia_id`) REFERENCES `constancias_fiscales` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `actividades_economicas`
--

LOCK TABLES `actividades_economicas` WRITE;
/*!40000 ALTER TABLE `actividades_economicas` DISABLE KEYS */;
/*!40000 ALTER TABLE `actividades_economicas` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ai_configs`
--

DROP TABLE IF EXISTS `ai_configs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ai_configs` (
  `id` int NOT NULL AUTO_INCREMENT,
  `provider` varchar(50) NOT NULL,
  `api_key` text NOT NULL,
  `model` varchar(100) NOT NULL,
  `temperature` float DEFAULT NULL,
  `max_tokens` int DEFAULT NULL,
  `top_p` float DEFAULT NULL,
  `system_prompt` text,
  `is_active` tinyint(1) DEFAULT NULL,
  `is_valid` tinyint(1) DEFAULT NULL,
  `client_id` varchar(50) NOT NULL,
  `created_by` int NOT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT NULL,
  `last_used_at` datetime DEFAULT NULL,
  `usage_count` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `created_by` (`created_by`),
  KEY `ix_ai_configs_id` (`id`),
  KEY `ix_ai_configs_client_id` (`client_id`),
  CONSTRAINT `ai_configs_ibfk_1` FOREIGN KEY (`created_by`) REFERENCES `users` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ai_configs`
--

LOCK TABLES `ai_configs` WRITE;
/*!40000 ALTER TABLE `ai_configs` DISABLE KEYS */;
/*!40000 ALTER TABLE `ai_configs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ai_configurations`
--

DROP TABLE IF EXISTS `ai_configurations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ai_configurations` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `ai_provider` enum('vertex','gemini','azure','openai','anthropic','cohere','huggingface') COLLATE utf8mb4_unicode_ci NOT NULL,
  `provider_name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `api_key` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `api_endpoint` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `model_name` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `max_tokens` int DEFAULT '1024',
  `temperature` decimal(3,2) DEFAULT '0.70',
  `additional_params` json DEFAULT NULL,
  `is_default` tinyint(1) DEFAULT '0',
  `is_active` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_ai_provider_per_client` (`client_id`,`ai_provider`,`provider_name`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ai_configurations`
--

LOCK TABLES `ai_configurations` WRITE;
/*!40000 ALTER TABLE `ai_configurations` DISABLE KEYS */;
/*!40000 ALTER TABLE `ai_configurations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ai_usage_logs`
--

DROP TABLE IF EXISTS `ai_usage_logs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ai_usage_logs` (
  `id` int NOT NULL AUTO_INCREMENT,
  `ai_config_id` int NOT NULL,
  `user_id` int NOT NULL,
  `prompt` text NOT NULL,
  `response` text,
  `input_tokens` int DEFAULT NULL,
  `output_tokens` int DEFAULT NULL,
  `total_tokens` int DEFAULT NULL,
  `estimated_cost` float DEFAULT NULL,
  `duration_seconds` float DEFAULT NULL,
  `status` varchar(20) DEFAULT NULL,
  `error_message` text,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `ai_config_id` (`ai_config_id`),
  KEY `user_id` (`user_id`),
  KEY `ix_ai_usage_logs_id` (`id`),
  CONSTRAINT `ai_usage_logs_ibfk_1` FOREIGN KEY (`ai_config_id`) REFERENCES `ai_configs` (`id`),
  CONSTRAINT `ai_usage_logs_ibfk_2` FOREIGN KEY (`user_id`) REFERENCES `users` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ai_usage_logs`
--

LOCK TABLES `ai_usage_logs` WRITE;
/*!40000 ALTER TABLE `ai_usage_logs` DISABLE KEYS */;
/*!40000 ALTER TABLE `ai_usage_logs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `app_configs`
--

DROP TABLE IF EXISTS `app_configs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `app_configs` (
  `id` int NOT NULL AUTO_INCREMENT,
  `company_name` varchar(255) NOT NULL,
  `short_name` varchar(100) DEFAULT NULL,
  `version` varchar(20) DEFAULT NULL,
  `description` text,
  `logo_url` varchar(500) DEFAULT NULL,
  `favicon_url` varchar(500) DEFAULT NULL,
  `primary_color` varchar(7) DEFAULT NULL,
  `secondary_color` varchar(7) DEFAULT NULL,
  `contact_email` varchar(255) DEFAULT NULL,
  `contact_phone` varchar(50) DEFAULT NULL,
  `address` text,
  `company_rfc` varchar(13) DEFAULT NULL,
  `footer_text` text,
  `show_on_login` tinyint(1) DEFAULT NULL,
  `client_id` varchar(50) DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `ix_app_configs_client_id` (`client_id`),
  KEY `ix_app_configs_id` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `app_configs`
--

LOCK TABLES `app_configs` WRITE;
/*!40000 ALTER TABLE `app_configs` DISABLE KEYS */;
INSERT INTO `app_configs` VALUES (1,'Portal','Portal','2.0','Sistema de validación de CFDIs',NULL,NULL,'#667eea','#764ba2',NULL,NULL,NULL,NULL,'© 2025 Portal. Todos los derechos reservados.',1,NULL,1,'2025-12-18 13:29:43',NULL);
/*!40000 ALTER TABLE `app_configs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `audit_log`
--

DROP TABLE IF EXISTS `audit_log`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `audit_log` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) DEFAULT NULL,
  `user_id` int DEFAULT NULL,
  `action_type` enum('create','read','update','delete','login','logout','export','import') NOT NULL,
  `entity_type` varchar(100) DEFAULT NULL,
  `entity_id` int DEFAULT NULL,
  `action_description` text,
  `ip_address` varchar(45) DEFAULT NULL,
  `user_agent` text,
  `old_values` json DEFAULT NULL,
  `new_values` json DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_client_id` (`client_id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_created_at` (`created_at`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `audit_log`
--

LOCK TABLES `audit_log` WRITE;
/*!40000 ALTER TABLE `audit_log` DISABLE KEYS */;
/*!40000 ALTER TABLE `audit_log` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `cfdi`
--

DROP TABLE IF EXISTS `cfdi`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `cfdi` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `uuid` varchar(36) COLLATE utf8mb4_unicode_ci NOT NULL,
  `tipo_comprobante` enum('I','E','T','N','P') COLLATE utf8mb4_unicode_ci NOT NULL,
  `serie` varchar(25) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `folio` varchar(40) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `fecha` datetime NOT NULL,
  `emisor_rfc` varchar(13) COLLATE utf8mb4_unicode_ci NOT NULL,
  `emisor_nombre` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `emisor_regimen` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `receptor_rfc` varchar(13) COLLATE utf8mb4_unicode_ci NOT NULL,
  `receptor_nombre` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `receptor_uso_cfdi` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `subtotal` decimal(15,2) NOT NULL,
  `descuento` decimal(15,2) DEFAULT '0.00',
  `total` decimal(15,2) NOT NULL,
  `moneda` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT 'MXN',
  `tipo_cambio` decimal(10,4) DEFAULT '1.0000',
  `total_impuestos_trasladados` decimal(15,2) DEFAULT NULL,
  `total_impuestos_retenidos` decimal(15,2) DEFAULT NULL,
  `metodo_pago` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `forma_pago` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `condiciones_pago` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `orden_compra_id` int DEFAULT NULL,
  `xml_path` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `pdf_path` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `estatus_validacion` enum('pendiente','valido','rechazado','revision') COLLATE utf8mb4_unicode_ci DEFAULT 'pendiente',
  `fecha_validacion` timestamp NULL DEFAULT NULL,
  `validacion_sat_fecha` datetime DEFAULT NULL,
  `validacion_sat_respuesta` text COLLATE utf8mb4_unicode_ci,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  `updated_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_uuid_per_client` (`client_id`,`uuid`),
  KEY `idx_uuid` (`uuid`),
  KEY `idx_emisor_rfc` (`emisor_rfc`),
  KEY `idx_receptor_rfc` (`receptor_rfc`),
  KEY `idx_fecha` (`fecha`),
  KEY `idx_estatus` (`estatus_validacion`)
) ENGINE=InnoDB AUTO_INCREMENT=31 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `cfdi`
--

LOCK TABLES `cfdi` WRITE;
/*!40000 ALTER TABLE `cfdi` DISABLE KEYS */;
INSERT INTO `cfdi` VALUES (1,'COLIMAN001','A17C4C6A-E091-4466-88A7-692D8E1C1C94','I',NULL,NULL,'2025-10-04 13:32:27','TTM241216IG9','TARIMAS TMS','601','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',28500.00,0.00,33060.00,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/A17C4C6A-E091-4466-88A7-692D8E1C1C94.xml','2025/12/18/A17C4C6A-E091-4466-88A7-692D8E1C1C94.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:49','2025-12-18 13:32:49'),(2,'COLIMAN001','382EAF0B-A917-4EF4-810B-925EBFBBAB5E','I',NULL,NULL,'2025-10-11 08:47:43','CAVJ740730Q64','JULIO CASTRO VELASCO','612','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',12125.00,0.00,12125.00,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/382EAF0B-A917-4EF4-810B-925EBFBBAB5E.xml','2025/12/18/382EAF0B-A917-4EF4-810B-925EBFBBAB5E.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(3,'COLIMAN001','E99C6B97-EC75-4E00-9EEB-E491C34ABFF0','I',NULL,NULL,'2025-09-11 13:22:17','NUCA680508RH9','ARAM NUÑEZ CASTILLO','626','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',2500.00,0.00,2602.08,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/E99C6B97-EC75-4E00-9EEB-E491C34ABFF0.xml','2025/12/18/E99C6B97-EC75-4E00-9EEB-E491C34ABFF0.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(4,'COLIMAN001','88B20D45-46E2-4A1D-B76A-26A7F66CB99A','I',NULL,NULL,'2025-10-23 00:00:01','MPD220801DY8','MOD PACIFIC DISTRIBUCIONES','601','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',699370.56,0.00,811269.85,'MXN',1.0000,0.00,0.00,'PUE','03',NULL,NULL,'2025/12/18/88B20D45-46E2-4A1D-B76A-26A7F66CB99A.xml','2025/12/18/88B20D45-46E2-4A1D-B76A-26A7F66CB99A.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(5,'COLIMAN001','451639E0-7ED8-4657-B764-2806571B741B','I',NULL,NULL,'2025-10-01 12:37:27','BMI9704113PA','BANCO MONEX S.A. INSTITUCION DE BANCA MULTIPLE, MONEX GRUPO FINANCIERO','601','ATE980512T8A','AGROPECUARIA TERRANOVA','S01',1834000.00,0.00,1834000.00,'MXN',1.0000,0.00,0.00,'PUE','03',NULL,NULL,'2025/12/18/451639E0-7ED8-4657-B764-2806571B741B.xml','2025/12/18/451639E0-7ED8-4657-B764-2806571B741B.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(6,'COLIMAN001','50AEE4AD-A249-4B5D-9CBA-031209F57F31','I',NULL,NULL,'2025-10-03 16:42:59','MALM9311013M2','JOSE MANUEL MARTINEZ LEON','626','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',29500.00,0.00,33851.25,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/50AEE4AD-A249-4B5D-9CBA-031209F57F31.xml','2025/12/18/50AEE4AD-A249-4B5D-9CBA-031209F57F31.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(7,'COLIMAN001','791bdc4e-ec03-4dff-96ec-10d78136cc38','I',NULL,NULL,'2025-09-22 19:46:51','GUCY820527R74','YOLANDA GUTIERREZ CALLETANO','612','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',72200.65,0.00,76051.34,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/791BDC4E-EC03-4DFF-96EC-10D78136CC38.xml','2025/12/18/791BDC4E-EC03-4DFF-96EC-10D78136CC38.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(8,'COLIMAN001','0A333840-A579-490D-BB17-027850BE7A78','I',NULL,NULL,'2025-10-23 18:00:26','CATA860215M57','ADRIANA CARRILLO TOVAR','612','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',8265.00,0.00,9587.40,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/0A333840-A579-490D-BB17-027850BE7A78.xml','2025/12/18/0A333840-A579-490D-BB17-027850BE7A78.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(9,'COLIMAN001','CBA75E46-5728-43F8-8091-D4AD7451D71D','I',NULL,NULL,'2025-08-26 12:48:22','TRC940722RJ9','TRANSPORTES REFRIGERADOS COLIMAN','624','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',77502.22,0.00,86802.50,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/CBA75E46-5728-43F8-8091-D4AD7451D71D.xml','2025/12/18/CBA75E46-5728-43F8-8091-D4AD7451D71D.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(10,'COLIMAN001','469825e8-f444-43be-8797-3e445f335dc9','I',NULL,NULL,'2025-10-08 18:12:35','IPE190723B67','INDUSTRIAS PE','601','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',12400.00,0.00,14384.00,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/469825E8-F444-43BE-8797-3E445F335DC9.xml','2025/12/18/469825E8-F444-43BE-8797-3E445F335DC9.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(11,'COLIMAN001','2180a704-6d80-483c-8d3a-75bd0ea5db0f','I',NULL,NULL,'2025-10-09 15:59:26','OET160225H52','OZ ETIQUETAS','601','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',1662.50,0.00,1928.50,'USD',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/2180A704-6D80-483C-8D3A-75BD0EA5DB0F.xml','2025/12/18/2180A704-6D80-483C-8D3A-75BD0EA5DB0F.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(12,'COLIMAN001','a3e05c14-73ab-4c1f-99e2-302404875875','I',NULL,NULL,'2025-10-21 15:54:54','GEC8501014I5','GOBIERNO DEL ESTADO DE COLIMA','603','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',179516.00,0.00,179516.00,'MXN',1.0000,0.00,0.00,'PUE','03',NULL,NULL,'2025/12/18/A3E05C14-73AB-4C1F-99E2-302404875875.xml','2025/12/18/A3E05C14-73AB-4C1F-99E2-302404875875.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(13,'COLIMAN001','871A42E6-F3B4-4EFF-A659-E5534CD1F3A2','I',NULL,NULL,'2025-10-27 08:44:42','VEGA9204107A7','ANA KARINA VELASCO GAYTAN','626','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',3900.00,0.00,4524.00,'MXN',1.0000,0.00,0.00,'PUE','03',NULL,NULL,'2025/12/18/871A42E6-F3B4-4EFF-A659-E5534CD1F3A2.xml','2025/12/18/871A42E6-F3B4-4EFF-A659-E5534CD1F3A2.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(14,'COLIMAN001','2AE199EC-0CEB-43BD-90DC-BD7B5BB94BDA','I',NULL,NULL,'2025-10-23 00:00:01','MPD220801DY8','MOD PACIFIC DISTRIBUCIONES','601','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',616193.52,0.00,714784.48,'MXN',1.0000,0.00,0.00,'PUE','03',NULL,NULL,'2025/12/18/2AE199EC-0CEB-43BD-90DC-BD7B5BB94BDA.xml','2025/12/18/2AE199EC-0CEB-43BD-90DC-BD7B5BB94BDA.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(15,'COLIMAN001','e86816b4-a23c-406f-94d4-2ebf5fd2e5fe','I',NULL,NULL,'2025-10-23 14:10:03','IPE190723B67','INDUSTRIAS PE','601','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',25500.00,0.00,29580.00,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/E86816B4-A23C-406F-94D4-2EBF5FD2E5FE.xml','2025/12/18/E86816B4-A23C-406F-94D4-2EBF5FD2E5FE.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(16,'COLIMAN001','F9BCF163-1AE4-4DC2-98AD-1CB3C3701BA9','I',NULL,NULL,'2025-09-17 10:40:17','AME150612IP1','ASOCIACION MEXICANA DE EVALUADORES DE LA NORMATIVIDAD','603','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',11498.92,0.00,11498.92,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/F9BCF163-1AE4-4DC2-98AD-1CB3C3701BA9.xml','2025/12/18/F9BCF163-1AE4-4DC2-98AD-1CB3C3701BA9.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(17,'COLIMAN001','6D890680-D9D6-4D76-B9C2-636E15EFD7C3','I',NULL,NULL,'2025-10-03 16:23:17','MALM9311013M2','JOSE MANUEL MARTINEZ LEON','626','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',29500.00,0.00,33851.25,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/6D890680-D9D6-4D76-B9C2-636E15EFD7C3.xml','2025/12/18/6D890680-D9D6-4D76-B9C2-636E15EFD7C3.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(18,'COLIMAN001','f253c01d-2946-4bf1-b15a-7e11d4333bd9','I',NULL,NULL,'2025-10-23 14:08:48','IPE190723B67','INDUSTRIAS PE','601','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',17640.00,0.00,20462.40,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/F253C01D-2946-4BF1-B15A-7E11D4333BD9.xml','2025/12/18/F253C01D-2946-4BF1-B15A-7E11D4333BD9.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(19,'COLIMAN001','DAD9DD91-43CB-416E-BE26-6F48DDAFE92E','I',NULL,NULL,'2025-06-26 09:07:12','RERA521210823','ALFONSO ERNESTO RENDON ROSALES','612','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',30000.00,0.00,33600.00,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/DAD9DD91-43CB-416E-BE26-6F48DDAFE92E.xml','2025/12/18/DAD9DD91-43CB-416E-BE26-6F48DDAFE92E.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(20,'COLIMAN001','F1A7E34E-355D-45B0-B59F-13E95B2C53CC','I',NULL,NULL,'2025-09-04 11:47:44','RARE581025TE3','EMILIANO RAMOS RIZO','612','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',70000.00,0.00,78400.00,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/F1A7E34E-355D-45B0-B59F-13E95B2C53CC.xml','2025/12/18/F1A7E34E-355D-45B0-B59F-13E95B2C53CC.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(21,'COLIMAN001','b9e2c7d9-4ded-4906-8df8-da9b3923fc5a','I',NULL,NULL,'2025-09-22 19:37:30','GUCY820527R74','YOLANDA GUTIERREZ CALLETANO','612','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',77516.57,0.00,81650.78,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/B9E2C7D9-4DED-4906-8DF8-DA9B3923FC5A.xml','2025/12/18/B9E2C7D9-4DED-4906-8DF8-DA9B3923FC5A.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(22,'COLIMAN001','6B8FF159-ABF7-499F-B1C2-E7477B685878','I',NULL,NULL,'2025-10-10 13:55:59','GUMT8608291J9','TOPILTZIN GUTIERREZ MOLINA','612','ATE980512T8A','AGROPECUARIA TERRANOVA','I08',52988.79,0.00,61467.00,'MXN',1.0000,0.00,0.00,'PUE','03',NULL,NULL,'2025/12/18/6B8FF159-ABF7-499F-B1C2-E7477B685878.xml','2025/12/18/6B8FF159-ABF7-499F-B1C2-E7477B685878.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(23,'COLIMAN001','b05e9919-3c7c-42fc-b942-cc92725b1094','I',NULL,NULL,'2025-10-09 09:59:21','GUCY820527R74','YOLANDA GUTIERREZ CALLETANO','612','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',4793.05,0.00,5048.68,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/B05E9919-3C7C-42FC-B942-CC92725B1094.xml','2025/12/18/B05E9919-3C7C-42FC-B942-CC92725B1094.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(24,'COLIMAN001','88475D95-B473-4A4E-988B-083B4C6C1BBF','I',NULL,NULL,'2025-10-01 13:49:14','PAOJ801120145','JAIME PALENCIA ORTEGA','626','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',693.00,0.00,721.30,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/88475D95-B473-4A4E-988B-083B4C6C1BBF.xml','2025/12/18/88475D95-B473-4A4E-988B-083B4C6C1BBF.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(25,'COLIMAN001','835DB5D2-2D6B-44A2-A681-79E70A9D91C1','I',NULL,NULL,'2025-10-10 16:35:25','MAJO880531GU6','OSCAR EUGENIO MADERA JIMENEZ','626','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',800.00,0.00,918.00,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/835DB5D2-2D6B-44A2-A681-79E70A9D91C1.xml','2025/12/18/835DB5D2-2D6B-44A2-A681-79E70A9D91C1.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:50','2025-12-18 13:32:50'),(26,'COLIMAN001','fe709fcf-b260-4074-8748-9b3cb48a1403','I',NULL,NULL,'2025-10-08 12:39:16','CIN141218PK8','COLIMAN INTERNATIONAL','601','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',48020.18,0.00,55703.42,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/FE709FCF-B260-4074-8748-9B3CB48A1403.xml','2025/12/18/FE709FCF-B260-4074-8748-9B3CB48A1403.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:51','2025-12-18 13:32:51'),(27,'COLIMAN001','2D80E701-5863-474F-A117-7582583B33DF','I',NULL,NULL,'2025-10-01 14:32:14','SMH030404NT7','SSA MEXICO HOLDINGS','601','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',7237.46,0.00,8395.45,'MXN',1.0000,0.00,0.00,'PUE','03',NULL,NULL,'2025/12/18/2D80E701-5863-474F-A117-7582583B33DF.xml','2025/12/18/2D80E701-5863-474F-A117-7582583B33DF.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:51','2025-12-18 13:32:51'),(28,'COLIMAN001','261F6BEF-16B7-4D13-AC02-E9C7832CC98E','I',NULL,NULL,'2025-10-30 09:31:26','CATA860215M57','ADRIANA CARRILLO TOVAR','612','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',8265.00,0.00,9587.40,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/261F6BEF-16B7-4D13-AC02-E9C7832CC98E.xml','2025/12/18/261F6BEF-16B7-4D13-AC02-E9C7832CC98E.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:51','2025-12-18 13:32:51'),(29,'COLIMAN001','78943F32-47FD-4296-8E25-717E982E443C','I',NULL,NULL,'2025-10-10 15:22:02','EOC151119QS1','ESPECIALISTAS EN OBRAS Y CONSTRUCCIONES VERDE VALLE','601','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',236120.69,0.00,273900.00,'MXN',1.0000,0.00,0.00,'PUE','03',NULL,NULL,'2025/12/18/78943F32-47FD-4296-8E25-717E982E443C.xml','2025/12/18/78943F32-47FD-4296-8E25-717E982E443C.pdf','pendiente',NULL,NULL,NULL,'2025-12-18 13:32:51','2025-12-18 13:32:51'),(30,'COLIMAN001','A554BC06-531C-4C49-88D4-46E5012D43B8','I',NULL,NULL,'2025-09-26 14:18:51','BALJ501117S74','JAVIER BARAJAS LOPEZ','612','ATE980512T8A','AGROPECUARIA TERRANOVA','G03',20000.00,0.00,19066.66,'MXN',1.0000,0.00,0.00,'PPD','99',NULL,NULL,'2025/12/18/A554BC06-531C-4C49-88D4-46E5012D43B8.xml',NULL,'pendiente',NULL,NULL,NULL,'2025-12-18 13:32:51','2025-12-18 13:32:51');
/*!40000 ALTER TABLE `cfdi` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `cfdi_conceptos`
--

DROP TABLE IF EXISTS `cfdi_conceptos`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `cfdi_conceptos` (
  `id` int NOT NULL AUTO_INCREMENT,
  `cfdi_id` int NOT NULL,
  `clave_prod_serv` varchar(8) COLLATE utf8mb4_unicode_ci NOT NULL,
  `clave_unidad` varchar(3) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cantidad` decimal(15,6) NOT NULL,
  `descripcion` text COLLATE utf8mb4_unicode_ci NOT NULL,
  `valor_unitario` decimal(15,2) NOT NULL,
  `importe` decimal(15,2) NOT NULL,
  `descuento` decimal(15,2) DEFAULT '0.00',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_cfdi_id` (`cfdi_id`),
  CONSTRAINT `cfdi_conceptos_ibfk_1` FOREIGN KEY (`cfdi_id`) REFERENCES `cfdi` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=50 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `cfdi_conceptos`
--

LOCK TABLES `cfdi_conceptos` WRITE;
/*!40000 ALTER TABLE `cfdi_conceptos` DISABLE KEYS */;
INSERT INTO `cfdi_conceptos` VALUES (1,1,'24112701','H87',100.000000,'TARIMA NUEVA DE POLIN CON RESAQUE 40X48\'\' CON TRATAMIENTO HT',285.00,28500.00,0.00,'2025-12-18 13:32:49'),(2,2,'10171702','H87',5.000000,'MANZATE PROSTICK SC 25 KGS',2425.00,12125.00,0.00,'2025-12-18 13:32:50'),(3,3,'20102301','E48',1.000000,'TRASLADO DE PERSONAL DE  ARMERIA A RANCHO SAN MIGUEL Y 19 DEL DIA 06 DE SEPTIEMBRE   DEL 2025 SEMANA 37',2500.00,2500.00,0.00,'2025-12-18 13:32:50'),(4,4,'39131714','H87',618912.000000,'ESQUINERO DE 24 CM',1.13,699370.56,0.00,'2025-12-18 13:32:50'),(5,5,'84121603','E48',100000.000000,'EL CLIENTE VENDE DOLAR AMERICANO',18.34,1834000.00,0.00,'2025-12-18 13:32:50'),(6,6,'24112701','H87',100.000000,'VENTA DE TARIMAS DE POLINORD 4027',295.00,29500.00,0.00,'2025-12-18 13:32:50'),(7,7,'78111803','E48',6.000000,'RUTA 1 SEM 38 SALON DE FIESTAS PALMA REAL CAMPO DE FUTBOLTIENDA MARY FARO DE AGUA AV.CARLOS DE LA MADRID HOTEL PALAMA REAL CRUCERO DE LIBRAMIENTO PASCUALES',1525.06,9150.36,0.00,'2025-12-18 13:32:50'),(8,7,'78111803','E48',6.000000,'RUTA 2 SEM 38 CANCHA TECHADA ELIAS ZAMORA JARDIN LIBERTAD GIMNACIO 20 NOVIEMBRE MONUMENTO BENITO JUAREZ MONTE DE PIEDAD',1525.06,9150.36,0.00,'2025-12-18 13:32:50'),(9,7,'78111803','E48',6.000000,'RUTA 3 SEM 38 JARDIN PRIMAVERAS PLAYA DE ORO Y RIO FRIO TORTILLERIA SAN JOSE ANSELMO VILLALOBOS Y TUXPAN 18 DE JULIO Y AV. DE LOS MAESTROS LAGUNA DE CUYUTLAN',1525.06,9150.36,0.00,'2025-12-18 13:32:50'),(10,7,'78111803','E48',6.000000,'RUTA 4 SEM 38 KIOSCO DEL BACH #20 BODEGUITA REAL DEL VALLE ARCO VALLE DE LAS PALMAS AV. MERCURIO ESQUINA JOAQUIN AMADO Y MARTE BOLLA COFRADIA DE MORELOS',1525.06,9150.36,0.00,'2025-12-18 13:32:50'),(11,7,'78111803','E48',5.000000,'RUTA 5 SEM 38 TORRES ORTIZ Y LIBERTAD TORRES ORTIZ Y OBREROS Y 5 DE MAYO ELIMIANO ZAPATA Y BALDINOS AVALOS EMILIANO ZAPATA Y REFORMA KIOSCO CHAMIZAL JUAN OSEGUERA TORRES QUINTERO Y VIRGEN BANDA KIOSKO EJERCITO MEXICANO',1525.06,7625.30,0.00,'2025-12-18 13:32:50'),(12,7,'78111803','E48',5.000000,'RUTA CERRO DE ORTEGA SEM 38 FRENTE AL TRIANGULITO CAJA POPULAR Y ESQUINA ESCUELA',1307.19,6535.95,0.00,'2025-12-18 13:32:50'),(13,7,'78111803','E48',5.000000,'RUTA MADRID SEM 38 JARDIN BILLAR 1 BILLAR 2 PUENTE VIAS TIENDA CALERAS TRANSBORDO COFRADIA DE MORELOS',2178.65,10893.25,0.00,'2025-12-18 13:32:50'),(14,7,'78111803','E48',11.000000,'RUTA TECOMAN SEM 38 EXTRA EMPAQUE',958.61,10544.71,0.00,'2025-12-18 13:32:50'),(15,8,'13111301','H87',9500.000000,'POLIPACK PERFORADO DE 500 PZ',0.87,8265.00,0.00,'2025-12-18 13:32:50'),(16,9,'78101802','E48',1.000000,'FLETE',77502.22,77502.22,0.00,'2025-12-18 13:32:50'),(17,10,'24112902','H87',10000.000000,'Esquinero paak interior 24 cm',1.24,12400.00,0.00,'2025-12-18 13:32:50'),(18,11,'55121606','EA',950000.000000,'COUCHE SATIN 22 X 38MM DESARROLLO GOOD FARMER',0.00,1662.50,0.00,'2025-12-18 13:32:50'),(19,12,'93161700','E48',1.000000,'IMPUESTOS IMPUESTO SOBRE NOMINAS',179516.00,179516.00,0.00,'2025-12-18 13:32:50'),(20,13,'41111621','H87',6.000000,'CALIBRADOR ALUMINIO MOVIL PARA BANANO',650.00,3900.00,0.00,'2025-12-18 13:32:50'),(21,14,'39131714','H87',545304.000000,'ESQUINERO DE 24 CM',1.13,616193.52,0.00,'2025-12-18 13:32:50'),(22,15,'24112902','H87',2500.000000,'Esquinero ala 1.5 x 192 cm largo',10.20,25500.00,0.00,'2025-12-18 13:32:50'),(23,16,'94101600','E48',1.000000,'CUOTA DICTAMEN DE INSPECCION (ERPI)',11498.92,11498.92,0.00,'2025-12-18 13:32:50'),(24,17,'24112701','H87',100.000000,'VENTA DE TARIMAS DE POLIN ORD F - 192149',295.00,29500.00,0.00,'2025-12-18 13:32:50'),(25,18,'24112902','H87',1500.000000,'Esquinero ala 1.5 x 222 cm largo',11.76,17640.00,0.00,'2025-12-18 13:32:50'),(26,19,'78101802','E48',1.000000,'SERVICIO DE TRANSPORTE DE LOS MOCHIS, SIN. A TECOMAN, COL.\nCON CARTON.\nREMISION No. 7538174677.\nO.C. CAN-3241-AT.',30000.00,30000.00,0.00,'2025-12-18 13:32:50'),(27,20,'78101800','E48',1.000000,'FLETE  DE 1,296 CAJAS DE BANANO CON ORIGEN EN TULIPANES ORIENTE MZ 8 #11, COL. LOS TULIPANES, TAPACHULA CHIAPAS, CP 30797 Y DESTINO EN 16 DE SEPTIEMBRE #104 INT #2, COL SAN ISIDRO CP 28140, TECOMAN COLIMA  MEXICO.    \n    \n    \n    \n    \n    \n    \nOPERADOR: SERGIO RAMOS GARCIA    \nPLACAS DE LA UNIDAD: 87?AR?9Y/91?UY?8B',70000.00,70000.00,0.00,'2025-12-18 13:32:50'),(28,21,'78111803','E48',6.000000,'RUTA 1 SEM 37 SALON DE FIESTAS PALMA REAL CAMPO DE FUTBOLTIENDA MARY FARO DE AGUA AV.CARLOS DE LA MADRID HOTEL PALAMA REAL CRUCERO DE LIBRAMIENTO PASCUALES',1525.06,9150.36,0.00,'2025-12-18 13:32:50'),(29,21,'78111803','E48',6.000000,'RUTA 2 SEM 37 CANCHA TECHADA ELIAS ZAMORA JARDIN LIBERTAD GIMNACIO 20 NOVIEMBRE MONUMENTO BENITO JUAREZ MONTE DE PIEDAD',1525.06,9150.36,0.00,'2025-12-18 13:32:50'),(30,21,'78111803','E48',6.000000,'RUTA 3 SEM 37 JARDIN PRIMAVERAS PLAYA DE ORO Y RIO FRIO TORTILLERIA SAN JOSE ANSELMO VILLALOBOS Y TUXPAN 18 DE JULIO Y AV. DE LOS MAESTROS LAGUNA DE CUYUTLAN',1525.06,9150.36,0.00,'2025-12-18 13:32:50'),(31,21,'78111803','E48',7.000000,'RUTA 4 SEM 37 KIOSCO DEL BACH #20 BODEGUITA REAL DEL VALLE ARCO VALLE DE LAS PALMAS AV. MERCURIO ESQUINA JOAQUIN AMADO Y MARTE BOLLA COFRADIA DE MORELOS',1525.06,10675.42,0.00,'2025-12-18 13:32:50'),(32,21,'78111803','E48',6.000000,'RUTA 5 SEM 37 TORRES ORTIZ Y LIBERTAD TORRES ORTIZ Y OBREROS Y 5 DE MAYO ELIMIANO ZAPATA Y BALDINOS AVALOS EMILIANO ZAPATA Y REFORMA KIOSCO CHAMIZAL JUAN OSEGUERA TORRES QUINTERO Y VIRGEN BANDA KIOSKO EJERCITO MEXICANO',1525.06,9150.36,0.00,'2025-12-18 13:32:50'),(33,21,'78111803','E48',6.000000,'RUTA CERRO DE ORTEGA SEM 37 FRENTE AL TRIANGULITO CAJA POPULAR Y ESQUINA ESCUELA',1307.19,7843.14,0.00,'2025-12-18 13:32:50'),(34,21,'78111803','E48',5.000000,'RUTA MADRID SEM 37 JARDIN BILLAR 1 BILLAR 2 PUENTE VIAS TIENDA CALERAS TRANSBORDO COFRADIA DE MORELOS',2178.65,10893.25,0.00,'2025-12-18 13:32:50'),(35,21,'78111803','E48',12.000000,'RUTA TECOMAN SEM 37 EXTRA EMPAQUE',958.61,11503.32,0.00,'2025-12-18 13:32:50'),(36,22,'72103300','E48',1.000000,'FINIQUITO DEL SERVICIO DE\nRENOVACION ELECTRICA EN AREA DE\nPRENFRIADOS DE LA FINCA\nCANDELARIA',52988.79,52988.79,0.00,'2025-12-18 13:32:50'),(37,23,'78111803','E48',5.000000,'RUTA 16 SEM 41 ARMERIA-COFRADIA DE JUAREZ PERIQUILLOS /COF DE JUAREZ /PALENQUE',958.61,4793.05,0.00,'2025-12-18 13:32:50'),(38,24,'80111700','E48',1.000000,'ESTUDIOS SOCIO LABORALE: Joel Alejandro Preciado Cortez',693.00,693.00,0.00,'2025-12-18 13:32:50'),(39,25,'81161801','E48',4.000000,'Arrendamiento y Monitoreo Santa Rosa unidades T11,T16,C05,#65',200.00,800.00,0.00,'2025-12-18 13:32:50'),(40,26,'24141518','H87',3384.000000,'PAPEL SEPARADOR 45*95 PERFORADO',1.58,5346.72,0.00,'2025-12-18 13:32:51'),(41,26,'24121502','KGM',236.940000,'BANAVAC DE BD 95*137 CM',64.55,15294.48,0.00,'2025-12-18 13:32:51'),(42,26,'24112701','H87',63.000000,'TARIMA CERTIFICADA DE TAQUETE',348.34,21945.42,0.00,'2025-12-18 13:32:51'),(43,26,'55121600','H87',3.380000,'ETIQUETA TERMICA BLANCA 102X51MM',90.00,304.20,0.00,'2025-12-18 13:32:51'),(44,26,'24112902','H87',188.000000,'ESQUINERO PLASTICO 2.22MTS',12.70,2387.60,0.00,'2025-12-18 13:32:51'),(45,26,'24112902','H87',2016.000000,'ESQUINERO DE 24 CM',1.36,2741.76,0.00,'2025-12-18 13:32:51'),(46,27,'78141800','XUN',2.000000,'Cargo por incumplimiento - no se p',3618.73,7237.46,0.00,'2025-12-18 13:32:51'),(47,28,'13111301','H87',9500.000000,'POLIPACK DE 500 PZ',0.87,8265.00,0.00,'2025-12-18 13:32:51'),(48,29,'72141701','E48',1.000000,'ALQUILER DE RETROEXCAVADORA PARA DESAZOLVE DE DREN',236120.69,236120.69,0.00,'2025-12-18 13:32:51'),(49,30,'83101500','E48',1.000000,'INTEGRACIÓN  DE EXPEDIENTE Y TRÁMITE DE LA PRÓRROGA DEL TÍTULO DE CONCESIÓN DE AGUAS SUBTERRÁNEAS NÚMERO 08COL106394/15AMDL16',20000.00,20000.00,0.00,'2025-12-18 13:32:51');
/*!40000 ALTER TABLE `cfdi_conceptos` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `chart_data`
--

DROP TABLE IF EXISTS `chart_data`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `chart_data` (
  `id` int NOT NULL AUTO_INCREMENT,
  `chart_id` int NOT NULL,
  `client_id` varchar(50) NOT NULL,
  `data_point` json NOT NULL,
  `period_date` date DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_chart_id` (`chart_id`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `chart_data`
--

LOCK TABLES `chart_data` WRITE;
/*!40000 ALTER TABLE `chart_data` DISABLE KEYS */;
/*!40000 ALTER TABLE `chart_data` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `charts`
--

DROP TABLE IF EXISTS `charts`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `charts` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) NOT NULL,
  `chart_name` varchar(255) NOT NULL,
  `chart_type` enum('line','bar','pie','donut','area','stacked_bar','radar','scatter') NOT NULL,
  `chart_category` enum('kpi','financial','fiscal','operational','custom') DEFAULT 'custom',
  `data_source` enum('kpi','mcp','database','api') DEFAULT 'kpi',
  `data_config` json DEFAULT NULL,
  `chart_config` json DEFAULT NULL,
  `refresh_interval` int DEFAULT '300',
  `display_order` int DEFAULT '0',
  `is_active` tinyint(1) DEFAULT '1',
  `created_by` int DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `charts`
--

LOCK TABLES `charts` WRITE;
/*!40000 ALTER TABLE `charts` DISABLE KEYS */;
/*!40000 ALTER TABLE `charts` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `client_templates`
--

DROP TABLE IF EXISTS `client_templates`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `client_templates` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `template_id` int NOT NULL,
  `is_active` tinyint(1) DEFAULT '1',
  `applied_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `applied_by` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `client_templates`
--

LOCK TABLES `client_templates` WRITE;
/*!40000 ALTER TABLE `client_templates` DISABLE KEYS */;
/*!40000 ALTER TABLE `client_templates` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `clients`
--

DROP TABLE IF EXISTS `clients`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `clients` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `client_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `rfc` varchar(13) COLLATE utf8mb4_unicode_ci NOT NULL,
  `razon_social` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `plan_type` enum('basico','profesional','empresarial','corporativo') COLLATE utf8mb4_unicode_ci DEFAULT 'basico',
  `is_active` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `client_id` (`client_id`),
  UNIQUE KEY `rfc` (`rfc`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `clients`
--

LOCK TABLES `clients` WRITE;
/*!40000 ALTER TABLE `clients` DISABLE KEYS */;
INSERT INTO `clients` VALUES (1,'COLIMAN001','Coliman','COL850101AAA','Coliman SA de CV','contacto@coliman.com','empresarial',1,'2025-12-18 13:01:55','2025-12-18 13:01:55');
/*!40000 ALTER TABLE `clients` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `conciliaciones`
--

DROP TABLE IF EXISTS `conciliaciones`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `conciliaciones` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) NOT NULL,
  `periodo` varchar(7) NOT NULL,
  `banco` varchar(100) NOT NULL,
  `total_movimientos` int NOT NULL,
  `total_conciliados` int DEFAULT '0',
  `total_pendientes` int DEFAULT '0',
  `monto_conciliado` decimal(15,2) DEFAULT '0.00',
  `monto_pendiente` decimal(15,2) DEFAULT '0.00',
  `estatus` enum('en_proceso','completada','revision') DEFAULT 'en_proceso',
  `generado_por` int DEFAULT NULL,
  `fecha_generacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_periodo_banco_client` (`client_id`,`periodo`,`banco`),
  KEY `idx_periodo` (`periodo`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `conciliaciones`
--

LOCK TABLES `conciliaciones` WRITE;
/*!40000 ALTER TABLE `conciliaciones` DISABLE KEYS */;
/*!40000 ALTER TABLE `conciliaciones` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `configurations`
--

DROP TABLE IF EXISTS `configurations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `configurations` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `config_key` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `config_category` enum('email','folders','mcp','ai','general') COLLATE utf8mb4_unicode_ci NOT NULL,
  `config_value` text COLLATE utf8mb4_unicode_ci,
  `config_json` json DEFAULT NULL,
  `description` text COLLATE utf8mb4_unicode_ci,
  `is_encrypted` tinyint(1) DEFAULT '0',
  `is_active` tinyint(1) DEFAULT '1',
  `created_by` int DEFAULT NULL,
  `updated_by` int DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_config_per_client` (`client_id`,`config_key`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `configurations`
--

LOCK TABLES `configurations` WRITE;
/*!40000 ALTER TABLE `configurations` DISABLE KEYS */;
/*!40000 ALTER TABLE `configurations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `constancias_fiscales`
--

DROP TABLE IF EXISTS `constancias_fiscales`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `constancias_fiscales` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `rfc` varchar(13) COLLATE utf8mb4_unicode_ci NOT NULL,
  `nombre_archivo` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `ruta_archivo` varchar(500) COLLATE utf8mb4_unicode_ci NOT NULL,
  `tipo_constancia` enum('persona_fisica','persona_moral') COLLATE utf8mb4_unicode_ci DEFAULT 'persona_moral',
  `fecha_emision` date DEFAULT NULL,
  `fecha_vencimiento` date DEFAULT NULL,
  `tamano_archivo` bigint DEFAULT NULL,
  `hash_archivo` varchar(64) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `uploaded_by` int NOT NULL,
  `notas` text COLLATE utf8mb4_unicode_ci,
  `is_active` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_client_id` (`client_id`),
  KEY `idx_rfc` (`rfc`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `constancias_fiscales`
--

LOCK TABLES `constancias_fiscales` WRITE;
/*!40000 ALTER TABLE `constancias_fiscales` DISABLE KEYS */;
/*!40000 ALTER TABLE `constancias_fiscales` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `email_configurations`
--

DROP TABLE IF EXISTS `email_configurations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `email_configurations` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `smtp_host` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `smtp_port` int DEFAULT '587',
  `smtp_user` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `smtp_password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `smtp_use_tls` tinyint(1) DEFAULT '1',
  `smtp_use_ssl` tinyint(1) DEFAULT '0',
  `from_email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `from_name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `reply_to_email` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_email_config_per_client` (`client_id`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `email_configurations`
--

LOCK TABLES `email_configurations` WRITE;
/*!40000 ALTER TABLE `email_configurations` DISABLE KEYS */;
/*!40000 ALTER TABLE `email_configurations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `folder_configurations`
--

DROP TABLE IF EXISTS `folder_configurations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `folder_configurations` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `folder_type` enum('uploads','exports','reports','temp','backups','cfdis') COLLATE utf8mb4_unicode_ci NOT NULL,
  `folder_path` varchar(500) COLLATE utf8mb4_unicode_ci NOT NULL,
  `max_size_mb` int DEFAULT '1024',
  `auto_cleanup` tinyint(1) DEFAULT '0',
  `cleanup_days` int DEFAULT '30',
  `is_active` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_folder_per_client` (`client_id`,`folder_type`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `folder_configurations`
--

LOCK TABLES `folder_configurations` WRITE;
/*!40000 ALTER TABLE `folder_configurations` DISABLE KEYS */;
/*!40000 ALTER TABLE `folder_configurations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `kpi_values`
--

DROP TABLE IF EXISTS `kpi_values`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `kpi_values` (
  `id` int NOT NULL AUTO_INCREMENT,
  `kpi_id` int NOT NULL,
  `client_id` varchar(50) NOT NULL,
  `value` decimal(15,2) NOT NULL,
  `period_type` enum('daily','weekly','monthly','quarterly','yearly') DEFAULT 'daily',
  `period_date` date NOT NULL,
  `metadata` json DEFAULT NULL,
  `calculated_by` varchar(50) DEFAULT 'system',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_kpi_value_per_period` (`kpi_id`,`period_date`),
  KEY `idx_kpi_id` (`kpi_id`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `kpi_values`
--

LOCK TABLES `kpi_values` WRITE;
/*!40000 ALTER TABLE `kpi_values` DISABLE KEYS */;
/*!40000 ALTER TABLE `kpi_values` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `kpis`
--

DROP TABLE IF EXISTS `kpis`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `kpis` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) NOT NULL,
  `kpi_code` varchar(50) NOT NULL,
  `kpi_name` varchar(255) NOT NULL,
  `kpi_description` text,
  `kpi_category` enum('financiero','operacional','fiscal','compliance','general') DEFAULT 'general',
  `kpi_type` enum('number','percentage','currency','count','ratio') DEFAULT 'number',
  `kpi_formula` text,
  `target_value` decimal(15,2) DEFAULT NULL,
  `warning_threshold` decimal(15,2) DEFAULT NULL,
  `critical_threshold` decimal(15,2) DEFAULT NULL,
  `unit` varchar(50) DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_kpi_per_client` (`client_id`,`kpi_code`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `kpis`
--

LOCK TABLES `kpis` WRITE;
/*!40000 ALTER TABLE `kpis` DISABLE KEYS */;
/*!40000 ALTER TABLE `kpis` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `mcp_configurations`
--

DROP TABLE IF EXISTS `mcp_configurations`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `mcp_configurations` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `connection_name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `mcp_endpoint` varchar(500) COLLATE utf8mb4_unicode_ci NOT NULL,
  `mcp_api_key` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `mcp_protocol` enum('http','https','grpc','websocket') COLLATE utf8mb4_unicode_ci DEFAULT 'https',
  `timeout_seconds` int DEFAULT '30',
  `max_retries` int DEFAULT '3',
  `is_active` tinyint(1) DEFAULT '1',
  `last_connection_test` datetime DEFAULT NULL,
  `last_connection_status` enum('success','failed','pending') COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `connection_metadata` json DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_mcp_connection_per_client` (`client_id`,`connection_name`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `mcp_configurations`
--

LOCK TABLES `mcp_configurations` WRITE;
/*!40000 ALTER TABLE `mcp_configurations` DISABLE KEYS */;
/*!40000 ALTER TABLE `mcp_configurations` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `menu_items`
--

DROP TABLE IF EXISTS `menu_items`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `menu_items` (
  `id` int NOT NULL AUTO_INCREMENT,
  `menu_key` varchar(50) NOT NULL,
  `menu_label` varchar(100) NOT NULL,
  `menu_icon` varchar(50) DEFAULT NULL,
  `menu_path` varchar(255) DEFAULT NULL,
  `parent_id` int DEFAULT NULL,
  `display_order` int DEFAULT '0',
  `required_role` enum('superadmin','admin','contador','analista','consulta') DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `menu_key` (`menu_key`),
  KEY `idx_menu_key` (`menu_key`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `menu_items`
--

LOCK TABLES `menu_items` WRITE;
/*!40000 ALTER TABLE `menu_items` DISABLE KEYS */;
INSERT INTO `menu_items` VALUES (1,'dashboard','Dashboard','DashboardIcon','/dashboard',NULL,1,'consulta',1,'2025-12-18 13:17:03','2025-12-18 13:17:03'),(2,'cfdis','CFDIs','ReceiptIcon','/cfdis',NULL,2,'consulta',1,'2025-12-18 13:17:03','2025-12-18 13:17:03'),(3,'configuracion','Configuracion','SettingsIcon',NULL,NULL,3,'admin',1,'2025-12-18 13:17:03','2025-12-18 13:17:03'),(4,'reportes','Reportes','AssessmentIcon',NULL,NULL,4,'analista',1,'2025-12-18 13:17:03','2025-12-18 13:17:03'),(5,'catalogos','Catalogos','FolderIcon',NULL,NULL,5,'contador',1,'2025-12-18 13:17:03','2025-12-18 13:17:03');
/*!40000 ALTER TABLE `menu_items` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `movimientos_bancarios`
--

DROP TABLE IF EXISTS `movimientos_bancarios`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `movimientos_bancarios` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) NOT NULL,
  `banco` varchar(100) NOT NULL,
  `cuenta` varchar(50) NOT NULL,
  `fecha_operacion` date NOT NULL,
  `fecha_valor` date DEFAULT NULL,
  `referencia` varchar(100) DEFAULT NULL,
  `concepto` text,
  `cargo` decimal(15,2) DEFAULT NULL,
  `abono` decimal(15,2) DEFAULT NULL,
  `saldo` decimal(15,2) DEFAULT NULL,
  `moneda` varchar(3) DEFAULT 'MXN',
  `conciliado` tinyint(1) DEFAULT '0',
  `cfdi_id` int DEFAULT NULL,
  `fecha_conciliacion` timestamp NULL DEFAULT NULL,
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_fecha` (`fecha_operacion`),
  KEY `idx_referencia` (`referencia`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `movimientos_bancarios`
--

LOCK TABLES `movimientos_bancarios` WRITE;
/*!40000 ALTER TABLE `movimientos_bancarios` DISABLE KEYS */;
/*!40000 ALTER TABLE `movimientos_bancarios` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `obligaciones_fiscales`
--

DROP TABLE IF EXISTS `obligaciones_fiscales`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `obligaciones_fiscales` (
  `id` int NOT NULL AUTO_INCREMENT,
  `constancia_id` int NOT NULL,
  `descripcion` text NOT NULL,
  `vencimiento` varchar(500) DEFAULT NULL,
  `fecha_inicio` date DEFAULT NULL,
  `fecha_fin` date DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `constancia_id` (`constancia_id`),
  KEY `ix_obligaciones_fiscales_id` (`id`),
  CONSTRAINT `obligaciones_fiscales_ibfk_1` FOREIGN KEY (`constancia_id`) REFERENCES `constancias_fiscales` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `obligaciones_fiscales`
--

LOCK TABLES `obligaciones_fiscales` WRITE;
/*!40000 ALTER TABLE `obligaciones_fiscales` DISABLE KEYS */;
/*!40000 ALTER TABLE `obligaciones_fiscales` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ordenes_compra`
--

DROP TABLE IF EXISTS `ordenes_compra`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `ordenes_compra` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) NOT NULL,
  `numero_orden` varchar(50) NOT NULL,
  `supplier_id` int DEFAULT NULL,
  `fecha_orden` date NOT NULL,
  `monto_total` decimal(15,2) NOT NULL,
  `moneda` varchar(3) DEFAULT 'MXN',
  `estatus` enum('pendiente','parcial','completa','cancelada') DEFAULT 'pendiente',
  `created_at` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_orden_per_client` (`client_id`,`numero_orden`),
  KEY `idx_numero_orden` (`numero_orden`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ordenes_compra`
--

LOCK TABLES `ordenes_compra` WRITE;
/*!40000 ALTER TABLE `ordenes_compra` DISABLE KEYS */;
/*!40000 ALTER TABLE `ordenes_compra` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `report_executions`
--

DROP TABLE IF EXISTS `report_executions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `report_executions` (
  `id` int NOT NULL AUTO_INCREMENT,
  `report_id` int NOT NULL,
  `client_id` varchar(50) NOT NULL,
  `execution_status` enum('pending','running','completed','failed') DEFAULT 'pending',
  `file_path` varchar(500) DEFAULT NULL,
  `file_format` enum('pdf','excel','csv','json','xml') DEFAULT 'pdf',
  `file_size` bigint DEFAULT NULL,
  `parameters` json DEFAULT NULL,
  `error_message` text,
  `executed_by` int DEFAULT NULL,
  `started_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `completed_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_report_id` (`report_id`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `report_executions`
--

LOCK TABLES `report_executions` WRITE;
/*!40000 ALTER TABLE `report_executions` DISABLE KEYS */;
/*!40000 ALTER TABLE `report_executions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `reports`
--

DROP TABLE IF EXISTS `reports`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `reports` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) NOT NULL,
  `report_type` enum('kpi','cfdi','fiscal','financial','custom') NOT NULL,
  `report_name` varchar(255) NOT NULL,
  `report_description` text,
  `report_config` json DEFAULT NULL,
  `schedule_type` enum('manual','daily','weekly','monthly','quarterly') DEFAULT 'manual',
  `recipients` text,
  `last_generated_at` datetime DEFAULT NULL,
  `last_generated_by` int DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT '1',
  `created_by` int DEFAULT NULL,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `reports`
--

LOCK TABLES `reports` WRITE;
/*!40000 ALTER TABLE `reports` DISABLE KEYS */;
/*!40000 ALTER TABLE `reports` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `suppliers`
--

DROP TABLE IF EXISTS `suppliers`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `suppliers` (
  `id` int NOT NULL AUTO_INCREMENT,
  `client_id` varchar(50) COLLATE utf8mb4_unicode_ci NOT NULL,
  `rfc` varchar(13) COLLATE utf8mb4_unicode_ci NOT NULL,
  `razon_social` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `regimen_fiscal` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `codigo_postal` varchar(10) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `email` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `address` text COLLATE utf8mb4_unicode_ci,
  `city` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `state` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `country` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT 'Mexico',
  `contact_name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contact_position` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contact_phone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `contact_email` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `banco` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `cuenta_bancaria` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `clabe` varchar(18) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT '1',
  `notas` text COLLATE utf8mb4_unicode_ci,
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_supplier_per_client` (`client_id`,`rfc`),
  KEY `idx_client_id` (`client_id`),
  KEY `idx_rfc` (`rfc`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `suppliers`
--

LOCK TABLES `suppliers` WRITE;
/*!40000 ALTER TABLE `suppliers` DISABLE KEYS */;
/*!40000 ALTER TABLE `suppliers` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `templates`
--

DROP TABLE IF EXISTS `templates`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `templates` (
  `id` int NOT NULL AUTO_INCREMENT,
  `template_name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `template_display_name` varchar(100) COLLATE utf8mb4_unicode_ci NOT NULL,
  `primary_color` varchar(7) COLLATE utf8mb4_unicode_ci NOT NULL,
  `secondary_color` varchar(7) COLLATE utf8mb4_unicode_ci NOT NULL,
  `accent_color` varchar(7) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `background_color` varchar(7) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `text_color` varchar(7) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `sidebar_color` varchar(7) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `gradient_start` varchar(7) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `gradient_end` varchar(7) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `config_json` json DEFAULT NULL,
  `preview_image_url` varchar(500) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_default` tinyint(1) DEFAULT '0',
  `is_active` tinyint(1) DEFAULT '1',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `template_name` (`template_name`),
  KEY `idx_template_name` (`template_name`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `templates`
--

LOCK TABLES `templates` WRITE;
/*!40000 ALTER TABLE `templates` DISABLE KEYS */;
INSERT INTO `templates` VALUES (1,'purple_blue','Purpura y Azul (Default)','#667eea','#764ba2','#8b5cf6','#f5f5f5','#1a202c','#2d3748','#667eea','#764ba2',NULL,NULL,1,1,'2025-12-18 13:17:03','2025-12-18 13:17:03'),(2,'ocean_breeze','Brisa del Oceano','#0ea5e9','#06b6d4','#3b82f6','#f0f9ff','#0c4a6e','#075985','#0ea5e9','#06b6d4',NULL,NULL,0,1,'2025-12-18 13:17:03','2025-12-18 13:17:03'),(3,'emerald_forest','Bosque Esmeralda','#10b981','#059669','#34d399','#f0fdf4','#064e3b','#065f46','#10b981','#059669',NULL,NULL,0,1,'2025-12-18 13:17:03','2025-12-18 13:17:03'),(4,'sunset_orange','Atardecer Naranja','#f97316','#ea580c','#fb923c','#fff7ed','#7c2d12','#9a3412','#f97316','#ea580c',NULL,NULL,0,1,'2025-12-18 13:17:03','2025-12-18 13:17:03');
/*!40000 ALTER TABLE `templates` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `users`
--

DROP TABLE IF EXISTS `users`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `users` (
  `id` int NOT NULL AUTO_INCREMENT,
  `email` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `hashed_password` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `full_name` varchar(255) COLLATE utf8mb4_unicode_ci NOT NULL,
  `role` enum('SUPERADMIN','ADMIN','CONTADOR','ANALISTA','CONSULTA') COLLATE utf8mb4_unicode_ci DEFAULT 'CONSULTA',
  `client_id` varchar(50) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `client_name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `company` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `phone` varchar(20) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `position` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `is_active` tinyint(1) DEFAULT '1',
  `is_superuser` tinyint(1) DEFAULT '0',
  `is_verified` tinyint(1) DEFAULT '0',
  `created_at` datetime DEFAULT CURRENT_TIMESTAMP,
  `updated_at` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `last_login` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `email` (`email`),
  KEY `idx_email` (`email`),
  KEY `idx_client_id` (`client_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `users`
--

LOCK TABLES `users` WRITE;
/*!40000 ALTER TABLE `users` DISABLE KEYS */;
INSERT INTO `users` VALUES (1,'admin@coliman.com','$2b$12$AaWk4/HWNZrQz38YirWpheSS6EujXz34ehHq8mM6jMaIO5raTQPH2','Administrador','ADMIN','COLIMAN001','Coliman',NULL,NULL,NULL,1,1,0,'2025-12-18 13:04:25','2025-12-18 14:08:31','2025-12-18 14:08:31');
/*!40000 ALTER TABLE `users` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `validaciones`
--

DROP TABLE IF EXISTS `validaciones`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!50503 SET character_set_client = utf8mb4 */;
CREATE TABLE `validaciones` (
  `id` int NOT NULL AUTO_INCREMENT,
  `cfdi_id` int NOT NULL,
  `tipo_validacion` enum('estructura','sat','netsuite','montos','fiscal') COLLATE utf8mb4_unicode_ci NOT NULL,
  `resultado` enum('exitoso','error','advertencia') COLLATE utf8mb4_unicode_ci NOT NULL,
  `mensaje` text COLLATE utf8mb4_unicode_ci,
  `detalles` json DEFAULT NULL,
  `validado_por` varchar(100) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `fecha_validacion` timestamp NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  KEY `idx_cfdi_id` (`cfdi_id`),
  CONSTRAINT `validaciones_ibfk_1` FOREIGN KEY (`cfdi_id`) REFERENCES `cfdi` (`id`) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `validaciones`
--

LOCK TABLES `validaciones` WRITE;
/*!40000 ALTER TABLE `validaciones` DISABLE KEYS */;
/*!40000 ALTER TABLE `validaciones` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-12-18 14:20:33
